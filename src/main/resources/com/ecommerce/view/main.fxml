<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleButton?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.StackPane?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.ecommerce.controller.MainController" 
            prefHeight="700.0" prefWidth="400.0" style="-fx-background-color: #f0f0f0;">
            
    <fx:define>
        <ToggleGroup fx:id="tabGroup" />
    </fx:define>
            
    <top>
        <VBox>
            <HBox alignment="CENTER" prefHeight="50.0" spacing="10.0" style="-fx-background-color: white;">
                <TextField fx:id="txtSearch" promptText="Bạn đang tìm kiếm sản phẩm gì?" HBox.hgrow="ALWAYS" onAction="#handleSearch" />
                <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true" onMouseClicked="#handleSearch" style="-fx-cursor: hand;">
                    <Image url="/images/search.png" />
                </ImageView>
                <ImageView fx:id="btnCart" onMouseClicked="#handleCartClick" fitHeight="25.0" fitWidth="25.0" pickOnBounds="true" preserveRatio="true" style="-fx-cursor: hand;">
                    <Image url="/images/cart.png" /> 
                </ImageView>
                <padding>
                    <Insets left="10.0" right="10.0" />
                </padding>
            </HBox>
            <HBox alignment="CENTER" prefHeight="45.0" style="-fx-background-color: white;">
                <ToggleButton text="TOP" toggleGroup="$tabGroup" selected="true" style="-fx-background-color: transparent;" />
                <ToggleButton text="MEN" toggleGroup="$tabGroup" style="-fx-background-color: transparent;" />
                <ToggleButton text="WOMEN" toggleGroup="$tabGroup" style="-fx-background-color: transparent;" />
                <ToggleButton text="KIDS" toggleGroup="$tabGroup" style="-fx-background-color: transparent;" />
            </HBox>
        </VBox>
    </top>
    
    <center>
        <VBox>
            <ScrollPane fx:id="mainScrollPane" fitToWidth="true" hbarPolicy="NEVER" style="-fx-background-color: transparent;" VBox.vgrow="ALWAYS">
                <VBox fx:id="contentVBox" spacing="15.0" style="-fx-background-color: white;" minHeight="${mainScrollPane.height}">
                    <StackPane>
                         <ImageView pickOnBounds="true" preserveRatio="true" fitWidth="${mainScrollPane.width}">
                            <Image url="/images/banner.png" />
                        </ImageView>
                    </StackPane>
                    
                    <Label text="SẢN PHẨM NỔI BẬT">
                        <font><Font name="System Bold" size="16.0" /></font>
                        <VBox.margin><Insets left="10.0" /></VBox.margin>
                    </Label>
                    
                    <TilePane fx:id="productGrid" hgap="10.0" vgap="10.0" prefColumns="2" alignment="CENTER">
                        <padding><Insets bottom="10.0" left="10.0" right="10.0" top="10.0" /></padding>
                    </TilePane>
                    <HBox alignment="CENTER" spacing="20.0" style="-fx-background-color: white; -fx-padding: 10;">
                <Button fx:id="btnPrevPage" text="&lt; Trước" onAction="#handlePrevPage" />
                <Label fx:id="lblPageNumber" text="Trang 1" style="-fx-font-weight: bold;" />
                <Button fx:id="btnNextPage" text="Sau &gt;" onAction="#handleNextPage" />
            </HBox>
                    <VBox style="-fx-background-color: #2c3e50; -fx-padding: 20;" spacing="10.0">
                    <Label text="LIÊN HỆ VỚI CHÚNG TÔI" textFill="WHITE">
                        <font><Font name="System Bold" size="14.0" /></font>
                    </Label>
                    <Separator />
                    
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                            </ImageView>
                        <Label text="support@ecommerce.com" textFill="WHITE" />
                    </HBox>
                    
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                            </ImageView>
                        <Label text="Hotline: 1900 1000" textFill="WHITE" />
                    </HBox>
                    
                    <HBox alignment="CENTER_LEFT" spacing="10.0">
                        <ImageView fitHeight="20.0" fitWidth="20.0" pickOnBounds="true" preserveRatio="true">
                            </ImageView>
                        <Label text="Hà Nội, Việt Nam" textFill="WHITE" wrapText="true" />
                    </HBox>
                    
                    <Separator />
                    <Label text="© 2023 E-Commerce App. All rights reserved." textFill="#bdc3c7">
                        <font><Font size="10.0" /></font>
                    </Label>
                    </VBox>
                </VBox>
            </ScrollPane>
            
            
        </VBox>
    </center>
    
    <bottom>
        <HBox alignment="CENTER" prefHeight="60.0" style="-fx-background-color: white; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, -5);">
            <VBox fx:id="navHomeButton" alignment="CENTER" HBox.hgrow="ALWAYS" onMouseClicked="#handleNavHomeClick" style="-fx-cursor: hand;">
                <ImageView fitHeight="24.0" fitWidth="24.0" pickOnBounds="true" preserveRatio="true"><Image url="/images/home.png" /></ImageView>
                <Label text="TRANG CHỦ" />
            </VBox>
            <VBox alignment="CENTER" HBox.hgrow="ALWAYS" onMouseClicked="#handleNavCategoryClick" style="-fx-cursor: hand;">
                <ImageView fitHeight="24.0" fitWidth="24.0" pickOnBounds="true" preserveRatio="true"><Image url="/images/category.png" /></ImageView>
                <Label text="DANH MỤC" />
            </VBox>
            <VBox fx:id="navFavoriteButton" alignment="CENTER" HBox.hgrow="ALWAYS" onMouseClicked="#handleNavFavoriteClick" style="-fx-cursor: hand;">
                <ImageView fitHeight="24.0" fitWidth="24.0" pickOnBounds="true" preserveRatio="true"><Image url="/images/heart.png" /></ImageView>
                <Label text="YÊU THÍCH" />
            </VBox>
            <VBox alignment="CENTER" HBox.hgrow="ALWAYS" onMouseClicked="#handleNavPersonalClick" style="-fx-cursor: hand;">
                <ImageView fitHeight="24.0" fitWidth="24.0" pickOnBounds="true" preserveRatio="true"><Image url="/images/user.png" /></ImageView>
                <Label text="CÁ NHÂN" />
            </VBox>
        </HBox>
    </bottom>
</BorderPane>